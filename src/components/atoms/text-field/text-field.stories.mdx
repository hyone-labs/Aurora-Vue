import { Meta, ArgsTable, Story, Canvas } from '@storybook/addon-docs';
import { ref } from 'vue';
import { action } from '@storybook/addon-actions'
import HTextField from './text-field.vue';

<Meta title="Design System/Atoms/TextField" component={HTextField} />

## Card

### Default use:

<Canvas>
  <Story name="Default use">
    {{
        components: { HTextField },
        setup () {
          const value = ref(null);
          return { value };
        },
        template: `<div>
          <h-text-field label="Default use" v-model="value" />
          {{ value }}
        </div>`,
    }}
  </Story>
</Canvas>

### Helper text:

<Canvas>
  <Story name="Helper text">
    {{
        components: { HTextField },
        template: `<div>
          <h-text-field label="Helper text" helper-text="Helper text" :helper-text-active="true" />
          <h-text-field label="Helper text" helper-text="Helper text" :helper-text-active="true" :invalid="true" />
        </div>`,
    }}
  </Story>
</Canvas>

### Icon:

<Canvas>
  <Story name="Icon">
    {{
        components: { HTextField },
        template: `<div>
          <h-text-field label="Helper text" icon-left="fas fa-home" icon-right="fas fa-home" />
        </div>`,
    }}
  </Story>
</Canvas>

### Types:

<Canvas>
  <Story name="Types">
    {{
        components: { HTextField },
        template: `<div>
          <h-text-field type="text" />
          <h-text-field type="number" />
          <h-text-field type="date" />
        </div>`,
    }}
  </Story>
</Canvas>

### Masked:

<Canvas>
  <Story name="Masked">
    {{
        components: { HTextField },
        data() {
          return { data1: '', data2: '12321', data3: '' };
        },
        methods: {
          random() {
            this.data2 = Math.floor(Math.random() * 10000);
          },
        },
        template: `<div>
          {{ data2 }}
          <h-text-field :label="data1?.toString()" type="text" v-model="data1" mask="##-###-##" />
          <h-text-field :label="data2?.toString()" type="text" v-model="data2" mask="##-###-##" />
          <h-text-field :label="data3?.toString()" type="text" v-model="data3" mask="##-###-##" :unmasked="true"/>
          <h-button @click="random">change value</h-button>
        </div>`,
    }}
  </Story>
</Canvas>

### Rules:

<Canvas>
  <Story name="Rules">
    {{
        components: { HTextField },
        data() {
          return { data: '' };
        },
        computed: {
          rules1: () => ({
            type: String,
            required: true,
            length: { min: 3, max: 6 },
          }),
          rules2: () => ({
            type: String,
            required: true,
            length: { min: 3, max: 6 },
            startValidating: false,
          })
        },
        template: `<div>
          <h-text-field :label="data" type="text" v-model="data" :rules="rules1" :helper-text-active="true" />
          <h-text-field :label="data" type="text" v-model="data" :rules="rules2" :helper-text-active="true" />
        </div>`,
    }}
  </Story>
</Canvas>



### Disabled, Invalid, acessible and placeholder:

<Canvas>
  <Story name="Disabled and Invalid">
    {{
        components: { HTextField },
        template: `<div>
          <h-text-field invalid value="invalid" />
          <h-text-field acessible value="acessible" />
          <h-text-field disabled value="disabled" />
          <h-text-field placeholder="placeholder" />
          <h-text-field placeholder="maxlength minlength" maxlength="4" minlength="2" />
        </div>`,
    }}
  </Story>
</Canvas>

<ArgsTable of={HTextField} />
